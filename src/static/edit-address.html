<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Edit Address</title>
    <link rel="stylesheet" href="my-account.css">
    <link rel="stylesheet" href="edit-menu.css">

    <!--jQuery-->
    <script
        src="http://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <!-- link header.html and footer.html -->
    <script>
        $.ajax({
            url: 'header.html',
            dataType: 'html',
            success: function(html) { $('#header').html(html); }
        });
        $.ajax({
            url: 'footer-general.html',
            dataType: 'html',
            success: function(html) { $('#footer').html(html); }
        });
    </script>
    <script src="js/main.js"></script>
</head>
<body>
    <!-- call header and footer -->
    <div id="header"></div>

    <!-- Hero module -->
    <div class=banner>
        <div class="banner-img">
            <img class="bimg" src="/design/images/my-account-banner.png">
            </img>
        </div>
    </div>

    <!-- edit form -->
    <form id="form-add-menu-item">
        <div class="form-heading">
            <h2>
                Edit Address Info
            </h2>
        </div>
        <table style="width: 100%">

            <tr>
                <th>
                    <label for="compName" class="label">Company Name:</label>
                </th>
                <th>
                    <input type="text" id="compName" name="compName" class="input">
                </th>
            </tr>

            <tr>
                <th>
                    <label for="streetAddr" class="label">Street Address:</label>
                </th>
                <th>
                    <input type="text" id="streetAddr" name="streetAddr" class="input">
                </th>
            </tr>

            <tr>
                <th>
                    <label for="city" class="label">City:</label>
                </th>
                <th>
                    <input type="text" id="city" name="city" class="input">
                </th>
            </tr>

            <tr>
                <th>
                    <label for="state" class="label">State:</label>
                </th>
                <th>
                    <input type="text" id="state" name="state" class="input">
                </th>
            </tr>

            <tr>
                <th>
                    <label for="zipCode" class="label">Zip Code:</label>
                </th>
                <th>
                    <input type="text" id="zipCode" name="zipCode" class="input">
                </th>
            </tr>
        </table>
        <div class="submit-button" id="submit-button-ref">
            <button type="button" onclick="processFormContents()">
            <a href="admin-business.html">Submit Now</a>
            </button>
        </div>
        <!--<div class="submit-confirmation"></div> -->
    </form>

    <div id="footer"></div>

    <script type="text/javascript">
        function processFormContents(){
            var compName = (document.getElementById('compName')).value;
            var streetAddr = (document.getElementById('streetAddr')).value;
            var city = (document.getElementById('city')).value;
            var state = (document.getElementById('state')).value;
            var zipCode = (document.getElementById('zipCode')).value;

            const newAddrInfo = {
                id: 1,
                company_name: compName,
                street_address: streetAddr,
                city: city,
                state: state,
                zip_code: zipCode,
            };

            // save new item
            updateAddresstoDB(newAddrInfo);

            window.location.href("admin-business.html");

            // create confirmation message
            /*if(!document.getElementById('confirmation-message')){
                var formDiv = document.getElementById('form-add-menu-item');
                formDiv.id = "confirmation-message";
                const message = document.createElement('h4');
                message.classList.add('submit-confirmation');
                message.appendChild(document.createTextNode("Item added successfully!"));
                let backLink = document.createElement('a');
                backLink.classList.add('submit-confirmation');
                let backLinkText = document.createTextNode("Back to Menu >>");
                backLink.title = "Go back to menu";
                backLink.href = "admin-menu.html";
                backLink.appendChild(backLinkText);
                formDiv.appendChild(message);
                formDiv.appendChild(backLink);
            }*/

        }
    </script>
</body>
</html>