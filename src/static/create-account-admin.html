<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Log In</title>
    <link rel="stylesheet" href="my-account.css">
    <link rel="stylesheet" href="log-in.css">
    <script src="js/account.js"></script>


    <!--jQuery-->
    <script
        src="http://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <!-- link header.html and footer.html -->
    <script>
        $.ajax({
            url: 'header.html',
            dataType: 'html',
            success: function(html) { $('#header').html(html); }
        });
        $.ajax({
            url: 'footer-general.html',
            dataType: 'html',
            success: function(html) { $('#footer').html(html); }
        });
    </script>
    <script src="js/main.js"></script>
</head>
<body>
    <!-- call header and footer -->
    <div id="header"></div>

    <!-- Hero module -->
    <div class=banner>
        <div class="banner-img">
            <img class="bimg" src="/design/images/log-in-banner.png">
            </img>
        </div>
    </div>

    <!-- actual login -->
    <form>
        <div class="main-wrap-create-account">
            <div class="inner-wrap">
                <h2>Create Admin Account</h2>
                <p>Please fill in the following fields to register an additional admin account. 
                    Note that admins will be able to create orders and change restaurant information. </p>
                <table>
                    <tr>
                        <th>
                            <label for="fname" class="fname"><span class="mandatory">*</span>First Name:</label>
                        </th>
                        <th class="req-padding">
                            <label for="lname" class="lname"><span class="mandatory">*</span>Last Name:</label>
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <input type="text" id="fnameInput" name="fnameInput" class="fnameInput" required>
                        </th>
                        <th class="req-padding">
                            <input type="text" id="lnameInput" name="lnameInput" class="lnameInput" required>
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <label for="email" class="email"><span class="mandatory">*</span>Email Address:</label>
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <input type="email" id="emailInput" name="email" class="emailInput" required>
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <label for="password" class="password"><span class="mandatory">*</span>Password:</label>
                        </th>
                        <th class="req-padding">
                            <label for="confirmPassword" class="confirmPassword"><span class="mandatory">*</span>Confirm Password:</label>
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <input type="password" id="passwordInput" name="password" class="passInput" required>
                        </th>
                        <th class="req-padding">
                            <input type="password" id="confirmPasswordInput" name="confirmPassword" class="confirmPassInput" required>
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <span class="mandatory">*</span><span class="sub-text">Indicates Required Field</span>
                        </th>
                    </tr>
                </table>
            </div>
            <div class="bottom-row">
                <div class="column">
                    <div class="label">
                    </div>
                    <div class ="two-buttons">
                        <button type="submit" onclick="processFormContents()" class="admin-add" style="
                        margin-left: 35%;"><a href="account-confirmation.html">Create Account</a></button>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <div id="footer"></div>
    <script type="text/javascript">
        function processFormContents(){
            var fname = (document.getElementById('fnameInput')).value;
            var lname = (document.getElementById('lnameInput')).value;
            var email = (document.getElementById('emailInput')).value;
            var password = (document.getElementById('passwordInput')).value;
            var confirmPassword = (document.getElementById('confirmPasswordInput')).value;

            /*if (password == confirmPassword) {
                console.log("True is pass=confirm: " + (password == confirmPassword));*/
                const newAccountInfo = {
                    id: 0,
                    fname: fname,
                    lname: lname,
                    email: email,
                    password: password,
                    acct_type: 'admin',
                };
            //}   

            // save new item
            addAccounttoDB(newAccountInfo);

            window.location.href("admin-business.html");

        }
    </script>
</body>
</html>