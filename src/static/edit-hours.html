<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Edit Business Hours</title>
    <link rel="stylesheet" href="my-account.css">
    <link rel="stylesheet" href="edit-menu.css">

    <!--jQuery-->
    <script
        src="http://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <!-- link header.html and footer.html -->
    <script>
        $.ajax({
            url: 'header.html',
            dataType: 'html',
            success: function(html) { $('#header').html(html); }
        });
        $.ajax({
            url: 'footer-general.html',
            dataType: 'html',
            success: function(html) { $('#footer').html(html); }
        });
    </script>
    <script src="js/main.js"></script>
</head>
<body>
    <!-- call header and footer -->
    <div id="header"></div>

    <!-- Hero module -->
    <div class=banner>
        <div class="banner-img">
            <img class="bimg" src="/design/images/my-account-banner.png">
            </img>
        </div>
    </div>

    <!-- edit form -->
    <form id="form-add-menu-item">
        <div class="form-heading">
            <h2>
                Edit Hours Info
            </h2>
        </div>
        <table style="width: 100%">
            <tr>
                <th>
                    <label for="day" class="label">Monday:</label>
                </th>
                <th>
                    <input type="time" id="monBeg" name="monBeg" class="input">
                    <a> to </a>
                    <input type="time" id="monEnd" name="monEnd" class="input">
                </th>
            </tr>
            <tr>
                <th>
                    <label for="day" class="label">Tuesday:</label>
                </th>
                <th>
                    <input type="time" id="tueBeg" name="tueBeg" class="input">
                    <a> to </a>
                    <input type="time" id="tueEnd" name="tueEnd" class="input">
                </th>
            </tr>
            <tr>
                <th>
                    <label for="day" class="label">Wednesday:</label>
                </th>
                <th>
                    <input type="time" id="wedBeg" name="wedBeg" class="input">
                    <a> to </a>
                    <input type="time" id="wedEnd" name="wedEnd" class="input">
                </th>
            </tr>
            <tr>
                <th>
                    <label for="day" class="label">Thursday:</label>
                </th>
                <th>
                    <input type="time" id="thuBeg" name="thuBeg" class="input">
                    <a> to </a>
                    <input type="time" id="thuEnd" name="thuEnd" class="input">
                </th>
            </tr>
            <tr>
                <th>
                    <label for="day" class="label">Friday:</label>
                </th>
                <th>
                    <input type="time" id="friBeg" name="friBeg" class="input">
                    <a> to </a>
                    <input type="time" id="friEnd" name="friEnd" class="input">
                </th>
            </tr>
            <tr>
                <th>
                    <label for="day" class="label">Saturday:</label>
                </th>
                <th>
                    <input type="time" id="satBeg" name="satBeg" class="input">
                    <a> to </a>
                    <input type="time" id="satEnd" name="satEnd" class="input">
                </th>
            </tr>
            <tr>
                <th>
                    <label for="day" class="label">Sunday:</label>
                </th>
                <th>
                    <input type="time" id="sunBeg" name="sunBeg" class="input">
                    <a> to </a>
                    <input type="time" id="sunEnd" name="sunEnd" class="input">
                </th>
            </tr>
        </table>
        <div class="submit-button" id="submit-button-ref">
            <button type="button" onclick="processFormContents()">
            <a href="admin-business.html">Submit Now</a>
            </button>
        </div>
        <!--<div class="submit-confirmation"></div> -->
    </form>

    <div id="footer"></div>

    <script type="text/javascript">
        function processFormContents(){
            var mon_beg = (document.getElementById('monBeg')).value;
            var mon_end = (document.getElementById('monEnd')).value;
            var tue_beg = (document.getElementById('tueBeg')).value;
            var tue_end = (document.getElementById('tueEnd')).value;
            var wed_beg = (document.getElementById('wedBeg')).value;
            var wed_end = (document.getElementById('wedEnd')).value;
            var thu_beg = (document.getElementById('thuBeg')).value;
            var thu_end = (document.getElementById('thuEnd')).value;
            var fri_beg = (document.getElementById('friBeg')).value;
            var fri_end = (document.getElementById('friEnd')).value;
            var sat_beg = (document.getElementById('satBeg')).value;
            var sat_end = (document.getElementById('satEnd')).value;
            var sun_beg = (document.getElementById('sunBeg')).value;
            var sun_end = (document.getElementById('sunEnd')).value;
           
            const newHoursInfo = {
                id: 1,
                mon_beg: mon_beg,
                mon_end: mon_end,
                tue_beg: tue_beg,
                tue_end: tue_end,
                wed_beg: wed_beg,
                wed_end: wed_end,
                thu_beg: thu_beg,
                thu_end: thu_end,
                fri_beg: fri_beg,
                fri_end: fri_end,
                sat_beg: sat_beg,
                sat_end: sat_end,
                sun_beg: sun_beg,
                sun_end: sun_end,
            };

            // save new item
            updateHourstoDB(newHoursInfo);

            window.location.href("admin-business.html");

            // create confirmation message
            /*if(!document.getElementById('confirmation-message')){
                var formDiv = document.getElementById('form-add-menu-item');
                formDiv.id = "confirmation-message";
                const message = document.createElement('h4');
                message.classList.add('submit-confirmation');
                message.appendChild(document.createTextNode("Item added successfully!"));
                let backLink = document.createElement('a');
                backLink.classList.add('submit-confirmation');
                let backLinkText = document.createTextNode("Back to Menu >>");
                backLink.title = "Go back to menu";
                backLink.href = "admin-menu.html";
                backLink.appendChild(backLinkText);
                formDiv.appendChild(message);
                formDiv.appendChild(backLink);
            }*/

        }
    </script>
</body>
</html>